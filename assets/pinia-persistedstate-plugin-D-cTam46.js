function p(o,r,c){const s=console.groupCollapsed||console.group;try{s(o,new Date().toLocaleString()),console.log("mutation",r),console.log("state",c),console.groupEnd()}catch{console.log("—— log end ——")}}function y(o){const r=(o==null?void 0:o.storage)||window&&window.localStorage,c=(o==null?void 0:o.key)||"pinia",s=(o==null?void 0:o.logger)||!1,u=(n,e)=>{const t=e.getItem?e.getItem(n):e.get(n);try{return typeof t=="string"?JSON.parse(t):typeof t=="object"?t:void 0}catch{}},d=(n,e,t)=>t.setItem?t.setItem(n,JSON.stringify(e)):t.set(n,JSON.stringify(e));return n=>{const e=n.store,t=`${c}-${e.$id}`,l=u(t,r);l&&e.$patch(l),e.$subscribe((g,a)=>{s&&p(g.storeId,g,a);const i=`${c}-${g.storeId}`;d(i,a,r)})}}export{y as c};
